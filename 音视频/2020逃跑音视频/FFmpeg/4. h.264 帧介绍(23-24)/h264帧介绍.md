# h.264  帧介绍




# 1. 三种帧的说明

## 1. 1 I 帧概念
- I帧: 帧内编码帧，I帧表示关键帧，你可以理解为这一帧画面的完整保留;解码时只需要本帧数据就可以完成(因为包含完整画面)


## 1.2 I帧特点:

1. 它是一个全帧压缩编码帧。它将全帧图像信息进行JPEG压缩编码及传输;
  
2. 解码时仅用`I帧`的数据就可重构完整图像;

3. `I帧`描述了图像背景和运动主体的详情;

4. `I帧`不需要参考其他画面而生成;

5. `I帧`是`P帧`和`B帧`的参考帧(其质量直接影响到同组中以后各帧的质量);

6. `I帧`是`帧组GOP`的`基础帧`(`第一帧`),在`一 组`中只有一个`I帧`;

7. `I帧`不需要考虑运动矢量;

8. `I帧`所占数据的信息量比较大。


## 1.3 B帧概念

- `B帧`: `双向预测`内插编码帧。
- `B帧`是`双向差别帧`，也就是B帧记录的是**本帧与前后帧的差别**(具体比较复杂，`有4种情况`，但我这样说简单些).
- 换言之，要解码`B帧`，`不仅`**要**取得`之前`的缓存画面，**还要**解码`之后`的画面，通过`前后`画面的与`本帧数据`的`叠加`取得最终的画面。B帧压缩率高，但是解码时CPU会比较累。

## 1.4 B帧的预测与重构

- `B帧`以**前面**的`I`或`P帧`和**后面**的`P帧`为参考帧.

- **找出**`B帧`**某点**的`预测值`和两个`运动矢量`, 并取预测差值和运动矢量传送。
- 接收端根据运动矢量在两个参考帧中 **找出(算出)** 预测值并与差值求和，得到B帧**某点**样值，从而可得到完**整**的`B帧`。

## 1.5 B帧特点

1. `B帧`是由`前面`的`I`或`P帧`和**后面**的`P帧`来进行预测的;

2. `B帧`**传送**的是它与**前面**的`I`或`P帧`和**后面**的**P帧**之间的`预测误差`及`运动矢量`;

3. `B帧`是`双向预测编码帧`;

4. `B帧`**压缩比最高**,因为它只反映丙参考帧间运动主体的变化情况，预测比较准确;

5. `B帧`**不是**`参考帧`，**不会**`造成``解码错误`的`扩散`。



### PS
`I`, `B`, `P` 各帧是根据压缩算法的需要, 是人为定义的, 它们都是实实在在是物理帧.
一般来说, 
- `I帧` 的压缩率是`7` (跟JPG差不多)
- `P帧` 的压缩率是`20`
- `B帧` 的压缩率可以达到`50`

可见使用B帧能节省大量空间, 节省出来的空间可以用来保存多一些`I帧`, 这样在相同码率下, 可以提供更好的画质.


## 1.6 P帧概念

- `P帧`:  `前向预测`**编码帧**.
- `P帧`表示的是这一帧跟`之前`的`关键帧`(或`P帧`)的差别,  `解码时`需要用`之前`缓存的画面叠加上本帧定义的差别, 生成最终画面.
- 也就是差别帧, `P帧`**没有**`完整的画面`数据, **只有**与前一帧的画面`差别数据`



## 1.7 P帧的预测与重构

`P帧的预测与重构`:
- `P帧`是以`I帧`为`参考帧`，在`l帧`中找出`P帧`**某点**的`预测值`和`运动矢量`，取`预测差值`和`运动矢量`一起传送。
- `在接收端`**根据**`运动矢量`从`I帧`中找出`P帧``某点`的`预测值`**并与**`差值`**相加**以得到`P帧`**某点**样值，从而可得到完整的P帧。

## 1.8 P帧特点:

1. `P帧`是`I帧`**后面**相隔1~2帧的编码帧;

2. `P帧`采用`运动补偿`的方法**传送**它与**前面**的`I`或`P帧`的**差值**及**运动矢量(预测误差);**

3. 解码时必须将`I帧`中的`预测值`与`预测误差`**求和**后才能重构完整的**P帧**图像;

4. `P帧`属于`前向预测`的`帧间编码`。它`只参考`**前面**`最靠近它`的`l帧`或`P帧`;

5. `P帧`**可以**是其**后面**`P帧`的参考帧，**也可以**是其`前后`的`B帧`的参考帧;

6. 由于`P帧`是参考帧，`它可能`造成`解码错误的扩散`;

7. 由于是**差值传送**，`P帧`的压缩比较高。





为了进行网络传输就有了NAL




第二个视频

1. 打印了下传过来的数据
2. 


